import{s as Ge,e as C,a as L,u as le,o as He,c as W,f as p,g as P,p as Q,b as G,q as g,G as j,h as k,i as A,H as ee,I as Ae,n as ne,r as Ne,k as De,t as H,d as N,x as J,J as Le,j as te,K as Se,L as Ce,M as se}from"../chunks/scheduler.C0FFGZse.js";import{e as I,u as We,g as Pe,d as Te}from"../chunks/each.2P9_2KxJ.js";import{S as Oe,i as Xe}from"../chunks/index.CKuX_8to.js";import{p as ze,i as Ie,a as Fe}from"../chunks/entry.CCZsLkYK.js";import{r as qe}from"../chunks/index.BcTZRQbh.js";const Ve=(r,e={})=>{de(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:a=3500,force:s=.5,particleCount:i=150,particleShape:n="mix",particleSize:l=12,destroyAfterDone:u=!0,stageHeight:y=800,stageWidth:h=1600}=e;(function(o){const _=Y("style");_.dataset.neoconfetti="",_.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,_)})(),r.classList.add("fk9XWG_container"),r.style.setProperty("--stage-height",y+"px");let m,b=ue(i,t),f=oe(r,b);function c(o,_){const S=B(O()*(Re-1)),v=n!=="rectangles"&&(n==="circles"||Ke(S)),E=(z,D)=>o.style.setProperty(z,D+"");E("--x-landing-point",R(U(fe(_,90)-180),0,180,-h/2,h/2)+"px"),E("--duration-chaos",a-B(1e3*O())+"ms");const X=O()<Ue?F(O()*xe,2):0;E("--x1",X),E("--x2",-1*X),E("--x3",X),E("--x4",F(U(R(U(fe(_,90)-180),0,180,-1,1)),4)),E("--y1",F(O()*ce,4)),E("--y2",F(O()*s*(Me()?1:-1),4)),E("--y3",ce),E("--y4",F(Je(R(U(_-180),0,180,s,-s),0),4)),E("--width",(v?l:B(4*O())+l/2)+"px"),E("--height",(v?l:B(2*O())+l)+"px");const V=S.toString(2).padStart(3,"0").split("");E("--half-rotation",V.map(z=>+z/2+"")),E("--rotation",V),E("--rotation-duration",F(O()*(Be-ie)+ie)+"ms"),E("--border-radius",v?"50%":0)}for(const[o,_]of Object.entries(f))c(_,b[+o].degree);return Promise.resolve().then(()=>m=setTimeout(()=>u&&(r.innerHTML=""),a)),{update(o){de(o);const _=o.particleCount??i,S=o.colors??t,v=o.stageHeight??y;if(b=ue(_,S),_===i&&JSON.stringify(t)!==JSON.stringify(S))for(const[E,{color:X}]of Object.entries(b))f[+E].style.setProperty("--bgcolor",X);_!==i&&(r.innerHTML="",f=oe(r,b)),u&&!o.destroyAfterDone&&clearTimeout(m),r.style.setProperty("--stage-height",v+"px"),t=S,a=o.duration??a,s=o.force??s,i=_,n=o.particleShape??n,l=o.particleSize??l,u=o.destroyAfterDone??u,y=v,h=o.stageWidth??h},destroy(){clearTimeout(m)}}};function oe(r,e=[]){const t=[];for(const{color:a}of e){const s=Y("div");s.className="fk9XWG_particle",s.style.setProperty("--bgcolor",a);const i=Y("div");Z(s,i),Z(r,s),t.push(s)}return t}const ie=200,Be=800,Ue=.1,xe=.3,ce=.5,U=Math.abs,O=Math.random,B=Math.round,Je=Math.max,Y=r=>document.createElement(r),Z=(r,e)=>r.appendChild(e),ue=(r,e)=>Array.from({length:r},(t,a)=>({color:e[a%e.length],degree:360*a/r})),F=(r,e=2)=>B((r+Number.EPSILON)*10**e)/10**e,R=(r,e,t,a,s)=>(r-e)*(s-a)/(t-e)+a,fe=(r,e)=>r+e>360?r+e-360:r+e,Me=()=>O()>.5,Re=6,Ke=r=>r!==1&&Me(),$=r=>r===void 0,q=(r,e)=>{if(!$(r)&&Number.isSafeInteger(r)&&r<0)throw new Error(e+" must be a positive integer")},de=({particleCount:r,duration:e,colors:t,particleSize:a,force:s,stageHeight:i,stageWidth:n,particleShape:l})=>{if(q(r,"particleCount"),q(e,"duration"),q(a,"particleSize"),q(s,"force"),q(i,"stageHeight"),q(n,"stageWidth"),!$(l)&&!/^(mix|circles|rectangles)$/i.test(l))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!$(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(s>1)throw new Error("force must be within 0 and 1")};function Qe(r){const e=JSON.parse(r);return e.data&&(e.data=ze(e.data)),e}function he(r){return HTMLElement.prototype.cloneNode.call(r)}function Ye(r,e=()=>{}){const t=async({action:s,result:i,reset:n=!0,invalidateAll:l=!0})=>{i.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(r),l&&await Ie()),(location.origin+location.pathname===s.origin+s.pathname||i.type==="redirect"||i.type==="error")&&Fe(i)};async function a(s){var c,o,_,S;if(((c=s.submitter)!=null&&c.hasAttribute("formmethod")?s.submitter.formMethod:he(r).method)!=="post")return;s.preventDefault();const n=new URL((o=s.submitter)!=null&&o.hasAttribute("formaction")?s.submitter.formAction:he(r).action),l=new FormData(r),u=(_=s.submitter)==null?void 0:_.getAttribute("name");u&&l.append(u,((S=s.submitter)==null?void 0:S.getAttribute("value"))??"");const y=new AbortController;let h=!1;const b=await e({action:n,cancel:()=>h=!0,controller:y,formData:l,formElement:r,submitter:s.submitter})??t;if(h)return;let f;try{const v=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:l,signal:y.signal});f=Qe(await v.text()),f.type==="error"&&(f.status=v.status)}catch(v){if((v==null?void 0:v.name)==="AbortError")return;f={type:"error",error:v}}b({action:n,formData:l,formElement:r,update:v=>t({action:n,result:f,reset:v==null?void 0:v.reset,invalidateAll:v==null?void 0:v.invalidateAll}),result:f})}return HTMLFormElement.prototype.addEventListener.call(r,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(r,"submit",a)}}}const je="(prefers-reduced-motion: reduce)",Ze=()=>window.matchMedia(je).matches,$e=qe(Ze(),r=>{{const e=a=>{r(a.matches)},t=window.matchMedia(je);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}}),{document:K,window:et}=Pe;function _e(r,e,t){const a=r.slice();return a[11]=e[t],a}function me(r,e,t){const a=r.slice();return a[14]=e[t],a}function pe(r,e,t){const a=r.slice();a[11]=e[t];const s=a[11]===a[4];return a[17]=s,a}function be(r,e,t){var m,b;const a=r.slice();a[20]=e[t];const s=a[17]?a[3]:a[1].guesses[a[11]];a[21]=s;const i=(m=a[1].answers[a[11]])==null?void 0:m[a[20]];a[22]=i;const n=((b=a[21])==null?void 0:b[a[20]])??"";a[23]=n;const l=a[17]&&a[20]===a[21].length;a[24]=l;const u=a[22]==="x";a[25]=u;const y=a[22]==="c";a[26]=y;const h=a[22]==="_";return a[27]=h,a}function tt(r){let e;return{c(){e=H("empty")},l(t){e=N(t,"empty")},m(t,a){A(t,e,a)},d(t){t&&p(e)}}}function at(r){let e;return{c(){e=H("(absent)")},l(t){e=N(t,"(absent)")},m(t,a){A(t,e,a)},d(t){t&&p(e)}}}function rt(r){let e;return{c(){e=H("(present)")},l(t){e=N(t,"(present)")},m(t,a){A(t,e,a)},d(t){t&&p(e)}}}function lt(r){let e;return{c(){e=H("(correct)")},l(t){e=N(t,"(correct)")},m(t,a){A(t,e,a)},d(t){t&&p(e)}}}function ge(r,e){let t,a=e[23]+"",s,i,n,l,u,y,h;function m(c,o){return c[25]?lt:c[26]?rt:c[27]?at:tt}let b=m(e),f=b(e);return{key:r,first:null,c(){t=C("div"),s=H(a),i=L(),n=C("span"),f.c(),l=L(),u=C("input"),this.h()},l(c){t=W(c,"DIV",{class:!0});var o=G(t);s=N(o,a),i=P(o),n=W(o,"SPAN",{class:!0});var _=G(n);f.l(_),_.forEach(p),l=P(o),u=W(o,"INPUT",{name:!0,type:!0}),o.forEach(p),this.h()},h(){g(n,"class","visually-hidden"),g(u,"name","guess"),u.disabled=y=!e[17],g(u,"type","hidden"),u.value=h=e[23],g(t,"class","letter svelte-1pg2j5l"),j(t,"exact",e[25]),j(t,"close",e[26]),j(t,"missing",e[27]),j(t,"selected",e[24]),this.first=t},m(c,o){A(c,t,o),k(t,s),k(t,i),k(t,n),f.m(n,null),k(t,l),k(t,u)},p(c,o){e=c,o&26&&a!==(a=e[23]+"")&&te(s,a),b!==(b=m(e))&&(f.d(1),f=b(e),f&&(f.c(),f.m(n,null))),o&16&&y!==(y=!e[17])&&(u.disabled=y),o&26&&h!==(h=e[23])&&(u.value=h),o&2&&j(t,"exact",e[25]),o&2&&j(t,"close",e[26]),o&2&&j(t,"missing",e[27]),o&26&&j(t,"selected",e[24])},d(c){c&&p(t),f.d()}}}function ye(r,e){let t,a,s=e[11]+1+"",i,n,l,u=[],y=new Map,h,m=I(Array.from(Array(5).keys()));const b=f=>f[20];for(let f=0;f<m.length;f+=1){let c=be(e,m,f),o=b(c);y.set(o,u[f]=ge(o,c))}return{key:r,first:null,c(){t=C("h2"),a=H("Row "),i=H(s),n=L(),l=C("div");for(let f=0;f<u.length;f+=1)u[f].c();h=L(),this.h()},l(f){t=W(f,"H2",{class:!0});var c=G(t);a=N(c,"Row "),i=N(c,s),c.forEach(p),n=P(f),l=W(f,"DIV",{class:!0});var o=G(l);for(let _=0;_<u.length;_+=1)u[_].l(o);h=P(o),o.forEach(p),this.h()},h(){g(t,"class","visually-hidden"),g(l,"class","row svelte-1pg2j5l"),j(l,"current",e[17]),this.first=t},m(f,c){A(f,t,c),k(t,a),k(t,i),A(f,n,c),A(f,l,c);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(l,null);k(l,h)},p(f,c){e=f,c&26&&(m=I(Array.from(Array(5).keys())),u=We(u,c,b,1,e,m,y,l,Te,ge,h,be)),c&16&&j(l,"current",e[17])},d(f){f&&(p(t),p(n),p(l));for(let c=0;c<u.length;c+=1)u[c].d()}}}function nt(r){let e,t,a,s,i,n,l="back",u,y,h,m=I(["qwertyuiop","asdfghjkl","zxcvbnm"]),b=[];for(let f=0;f<3;f+=1)b[f]=ke(_e(r,m,f));return{c(){e=C("div"),t=C("button"),a=H("enter"),i=L(),n=C("button"),n.textContent=l,u=L();for(let f=0;f<3;f+=1)b[f].c();this.h()},l(f){e=W(f,"DIV",{class:!0});var c=G(e);t=W(c,"BUTTON",{"data-key":!0,class:!0});var o=G(t);a=N(o,"enter"),o.forEach(p),i=P(c),n=W(c,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-1ptb1bp"&&(n.textContent=l),u=P(c);for(let _=0;_<3;_+=1)b[_].l(c);c.forEach(p),this.h()},h(){g(t,"data-key","enter"),t.disabled=s=!r[7],g(t,"class","svelte-1pg2j5l"),j(t,"selected",r[7]),g(n,"data-key","backspace"),g(n,"formaction","?/update"),g(n,"name","key"),n.value="backspace",g(n,"class","svelte-1pg2j5l"),g(e,"class","keyboard svelte-1pg2j5l")},m(f,c){A(f,e,c),k(e,t),k(t,a),k(e,i),k(e,n),k(e,u);for(let o=0;o<3;o+=1)b[o]&&b[o].m(e,null);y||(h=ee(n,"click",Se(r[9])),y=!0)},p(f,c){if(c&128&&s!==(s=!f[7])&&(t.disabled=s),c&128&&j(t,"selected",f[7]),c&708){m=I(["qwertyuiop","asdfghjkl","zxcvbnm"]);let o;for(o=0;o<3;o+=1){const _=_e(f,m,o);b[o]?b[o].p(_,c):(b[o]=ke(_),b[o].c(),b[o].m(e,null))}for(;o<3;o+=1)b[o].d(1)}},d(f){f&&p(e),Ce(b,f),y=!1,h()}}}function st(r){let e,t,a=r[5]?"you won :)":"game over :(",s,i,n=!r[5]&&r[1].answer&&we(r);return{c(){n&&n.c(),e=L(),t=C("button"),s=H(a),i=H(" play again?"),this.h()},l(l){n&&n.l(l),e=P(l),t=W(l,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var u=G(t);s=N(u,a),i=N(u," play again?"),u.forEach(p),this.h()},h(){g(t,"data-key","enter"),g(t,"class","restart selected svelte-1pg2j5l"),g(t,"formaction","?/restart")},m(l,u){n&&n.m(l,u),A(l,e,u),A(l,t,u),k(t,s),k(t,i)},p(l,u){!l[5]&&l[1].answer?n?n.p(l,u):(n=we(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u&32&&a!==(a=l[5]?"you won :)":"game over :(")&&te(s,a)},d(l){l&&(p(e),p(t)),n&&n.d(l)}}}function ve(r){let e,t,a,s,i,n;return{c(){e=C("button"),t=H(r[14]),this.h()},l(l){e=W(l,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var u=G(e);t=N(u,r[14]),u.forEach(p),this.h()},h(){g(e,"data-key",r[14]),g(e,"class",a=se(r[2][r[14]])+" svelte-1pg2j5l"),e.disabled=r[7],g(e,"formaction","?/update"),g(e,"name","key"),e.value=r[14],g(e,"aria-label",s=r[14]+" "+(r[6][r[14]]||""))},m(l,u){A(l,e,u),k(e,t),i||(n=ee(e,"click",Se(r[9])),i=!0)},p(l,u){u&4&&a!==(a=se(l[2][l[14]])+" svelte-1pg2j5l")&&g(e,"class",a),u&128&&(e.disabled=l[7]),u&64&&s!==(s=l[14]+" "+(l[6][l[14]]||""))&&g(e,"aria-label",s)},d(l){l&&p(e),i=!1,n()}}}function ke(r){let e,t,a=I(r[11]),s=[];for(let i=0;i<a.length;i+=1)s[i]=ve(me(r,a,i));return{c(){e=C("div");for(let i=0;i<s.length;i+=1)s[i].c();t=L(),this.h()},l(i){e=W(i,"DIV",{class:!0});var n=G(e);for(let l=0;l<s.length;l+=1)s[l].l(n);t=P(n),n.forEach(p),this.h()},h(){g(e,"class","row svelte-1pg2j5l")},m(i,n){A(i,e,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);k(e,t)},p(i,n){if(n&708){a=I(i[11]);let l;for(l=0;l<a.length;l+=1){const u=me(i,a,l);s[l]?s[l].p(u,n):(s[l]=ve(u),s[l].c(),s[l].m(e,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(i){i&&p(e),Ce(s,i)}}}function we(r){let e,t,a=r[1].answer+"",s,i;return{c(){e=C("p"),t=H('the answer was "'),s=H(a),i=H('"')},l(n){e=W(n,"P",{});var l=G(e);t=N(l,'the answer was "'),s=N(l,a),i=N(l,'"'),l.forEach(p)},m(n,l){A(n,e,l),k(e,t),k(e,s),k(e,i)},p(n,l){l&2&&a!==(a=n[1].answer+"")&&te(s,a)},d(n){n&&p(e)}}}function Ee(r){let e,t,a,s;return{c(){e=C("div"),this.h()},l(i){e=W(i,"DIV",{style:!0}),G(e).forEach(p),this.h()},h(){J(e,"position","absolute"),J(e,"left","50%"),J(e,"top","30%")},m(i,n){A(i,e,n),a||(s=Ae(t=Ve.call(null,e,{particleCount:r[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),a=!0)},p(i,n){t&&Le(t.update)&&n&256&&t.update.call(null,{particleCount:i[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(i){i&&p(e),a=!1,s()}}}function ot(r){let e,t,a,s="Sverdle",i,n,l,u="How to play",y,h,m=[],b=new Map,f,c,o,_,S,v,E=I(Array.from(Array(6).keys()));const X=d=>d[11];for(let d=0;d<E.length;d+=1){let w=pe(r,E,d),T=X(w);b.set(T,m[d]=ye(T,w))}function V(d,w){return d[5]||d[1].answers.length>=6?st:nt}let z=V(r),D=z(r),M=r[5]&&Ee(r);return{c(){e=C("meta"),t=L(),a=C("h1"),a.textContent=s,i=L(),n=C("form"),l=C("a"),l.textContent=u,y=L(),h=C("div");for(let d=0;d<m.length;d+=1)m[d].c();f=L(),c=C("div"),D.c(),o=L(),M&&M.c(),_=le(),this.h()},l(d){const w=He("svelte-18lvto8",K.head);e=W(w,"META",{name:!0,content:!0}),w.forEach(p),t=P(d),a=W(d,"H1",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-16hvqlg"&&(a.textContent=s),i=P(d),n=W(d,"FORM",{method:!0,action:!0,class:!0});var T=G(n);l=W(T,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1w3fhu3"&&(l.textContent=u),y=P(T),h=W(T,"DIV",{class:!0});var ae=G(h);for(let x=0;x<m.length;x+=1)m[x].l(ae);ae.forEach(p),f=P(T),c=W(T,"DIV",{class:!0});var re=G(c);D.l(re),re.forEach(p),T.forEach(p),o=P(d),M&&M.l(d),_=le(),this.h()},h(){var d;K.title="Sverdle",g(e,"name","description"),g(e,"content","A Wordle clone written in SvelteKit"),g(a,"class","visually-hidden"),g(l,"class","how-to-play svelte-1pg2j5l"),g(l,"href","/sverdle/how-to-play"),g(h,"class","grid svelte-1pg2j5l"),j(h,"playing",!r[5]),j(h,"bad-guess",(d=r[0])==null?void 0:d.badGuess),g(c,"class","controls svelte-1pg2j5l"),g(n,"method","POST"),g(n,"action","?/enter"),g(n,"class","svelte-1pg2j5l")},m(d,w){k(K.head,e),A(d,t,w),A(d,a,w),A(d,i,w),A(d,n,w),k(n,l),k(n,y),k(n,h);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(h,null);k(n,f),k(n,c),D.m(c,null),A(d,o,w),M&&M.m(d,w),A(d,_,w),S||(v=[ee(et,"keydown",r[10]),Ae(Ye.call(null,n,it))],S=!0)},p(d,[w]){var T;w&26&&(E=I(Array.from(Array(6).keys())),m=We(m,w,X,1,d,E,b,h,Te,ye,null,pe)),w&32&&j(h,"playing",!d[5]),w&1&&j(h,"bad-guess",(T=d[0])==null?void 0:T.badGuess),z===(z=V(d))&&D?D.p(d,w):(D.d(1),D=z(d),D&&(D.c(),D.m(c,null))),d[5]?M?M.p(d,w):(M=Ee(d),M.c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null)},i:ne,o:ne,d(d){d&&(p(t),p(a),p(i),p(n),p(o),p(_)),p(e);for(let w=0;w<m.length;w+=1)m[w].d();D.d(),M&&M.d(d),S=!1,Ne(v)}}}const it=()=>({update:r})=>{r({reset:!1})};function ct(r,e,t){let a,s,i,n,l;De(r,$e,c=>t(8,l=c));let{data:u}=e,{form:y}=e,h,m;function b(c){const o=c.target.getAttribute("data-key");o==="backspace"?(t(3,i=i.slice(0,-1)),y!=null&&y.badGuess&&t(0,y.badGuess=!1,y)):i.length<5&&t(3,i+=o)}function f(c){var o;c.metaKey||c.key==="Enter"&&!n||(o=document.querySelector(`[data-key="${c.key}" i]`))==null||o.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}return r.$$set=c=>{"data"in c&&t(1,u=c.data),"form"in c&&t(0,y=c.form)},r.$$.update=()=>{r.$$.dirty&2&&t(5,a=u.answers.at(-1)==="xxxxx"),r.$$.dirty&34&&t(4,s=a?-1:u.answers.length),r.$$.dirty&18&&t(3,i=u.guesses[s]||""),r.$$.dirty&8&&t(7,n=i.length===5),r.$$.dirty&6&&(t(2,h={}),t(6,m={}),u.answers.forEach((c,o)=>{const _=u.guesses[o];for(let S=0;S<5;S+=1){const v=_[S];c[S]==="x"?(t(2,h[v]="exact",h),t(6,m[v]="correct",m)):h[v]||(t(2,h[v]=c[S]==="c"?"close":"missing",h),t(6,m[v]=c[S]==="c"?"present":"absent",m))}}))},[y,u,h,i,s,a,m,n,l,b,f]}class mt extends Oe{constructor(e){super(),Xe(this,e,ct,ot,Ge,{data:1,form:0})}}export{mt as component};
