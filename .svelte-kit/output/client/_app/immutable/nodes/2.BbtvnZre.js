function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{s as ti,e as p,c as _,b as E,f as u,q as m,i as y,$ as $i,w as si,B as ri,C as ni,D as ii,E as ai,a as S,u as jn,o as Ei,g as T,h as f,k as Or,a0 as Si,y as Ti,t as X,p as I,d as Q,x as Nt,a1 as Ks,a2 as In,H as Gs,K as Ci,j as _e,r as xi,F as Oi,n as F,L as ji}from"../chunks/scheduler.C0FFGZse.js";import{S as oi,i as li,g as ci,a as V,c as hi,t as z,b as J,d as G,m as K,e as W,f as Pn}from"../chunks/index.CKuX_8to.js";import{g as Ii,e as An}from"../chunks/each.2P9_2KxJ.js";import{a as Rn}from"../chunks/index.SwE9B5Ev.js";import{_ as Bt}from"../chunks/preload-helper.D6kgxu3v.js";import{w as qs}from"../chunks/index.BcTZRQbh.js";const Pi=!0,tl=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pi},Symbol.toStringTag,{value:"Module"})),Ai=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bt(()=>Promise.resolve().then(()=>vs),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Fr extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Ri extends Fr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Di extends Fr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Li extends Fr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nr;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Nr||(Nr={}));var Ui=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};class Ni{constructor(e,{headers:t={},customFetch:s,region:r=Nr.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Ai(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Ui(this,void 0,void 0,function*(){try{const{headers:r,method:n,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const h=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch(k=>{throw new Ri(k)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new Di(h);if(!h.ok)throw new Li(h);let g=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield h.json():g==="application/octet-stream"?b=yield h.blob():g==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null}}catch(r){return{data:null,error:r}}})}}var Mi=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jt=Mi();const Hi=Jt.fetch,Br=Jt.fetch.bind(Jt),ui=Jt.Headers,Vi=Jt.Request,zi=Jt.Response,vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ui,Request:Vi,Response:zi,default:Br,fetch:Hi},Symbol.toStringTag,{value:"Module"}));class qi extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class Fi{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Br:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var a,o,l;let c=null,h=null,d=null,g=n.status,b=n.statusText;if(n.ok){if(this.method!=="HEAD"){const w=await n.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=w:h=JSON.parse(w))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(o=n.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,g=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await n.text();try{c=JSON.parse(x),Array.isArray(c)&&n.status===404&&(h=[],c=null,g=200,b="OK")}catch{n.status===404&&x===""?(g=204,b="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,b="OK"),c&&this.shouldThrowOnError)throw new qi(c)}return{error:c,data:h,count:d,status:g,statusText:b}});return this.shouldThrowOnError||(r=r.catch(n=>{var a,o,l;return{error:{message:`${(a=n==null?void 0:n.name)!==null&&a!==void 0?a:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(o=n==null?void 0:n.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}}class Bi extends Fi{select(e){let t=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:n=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class qt extends Bi{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let n="";r==="plain"?n="pl":r==="phrase"?n="ph":r==="websearch"&&(n="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${n}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}class Ji{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=t,this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let n=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new qt({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const r="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),s||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new qt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:n=!0}={}){const a="POST",o=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new qt({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new qt({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new qt({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Gi="1.15.0",Ki={"X-Client-Info":`postgrest-js/${Gi}`};class Jr{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ki),t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Ji(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jr(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:r=!1,count:n}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;s?(a="HEAD",Object.entries(t).forEach(([h,d])=>{o.searchParams.append(h,`${d}`)})):r?(a="GET",Object.entries(t).forEach(([h,d])=>{o.searchParams.append(h,`${d}`)})):(a="POST",l=t);const c=Object.assign({},this.headers);return n&&(c.Prefer=`count=${n}`),new qt({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const Wi="2.9.3",Yi={"X-Client-Info":`realtime-js/${Wi}`},Xi="1.0.0",di=1e4,Qi=1e3;var Ft;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ft||(Ft={}));var ie;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ie||(ie={}));var pe;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(pe||(pe={}));var Mr;(function(i){i.websocket="websocket"})(Mr||(Mr={}));var mt;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(mt||(mt={}));class fi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Zi{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+r));a=a+r;const l=s.decode(e.slice(a,a+n));a=a+n;const c=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class jr{constructor(e,t,s={},r=di){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dn;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Dn||(Dn={}));class ps{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:n,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,r,n,a),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,n,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},r=>{const{onJoin:n,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ps.syncDiff(this.state,r,n,a),o())}),this.onJoin((r,n,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:n,newPresences:a})}),this.onLeave((r,n,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:n,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const n=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(n,(c,h)=>{a[c]||(l[c]=h)}),this.map(a,(c,h)=>{const d=n[c];if(d){const g=h.map(C=>C.presence_ref),b=d.map(C=>C.presence_ref),k=h.filter(C=>b.indexOf(C.presence_ref)<0),x=d.filter(C=>g.indexOf(C.presence_ref)<0);k.length>0&&(o[c]=k),x.length>0&&(l[c]=x)}else o[c]=h}),this.syncDiff(n,{joins:o,leaves:l},s,r)}static syncDiff(e,t,s,r){const{joins:n,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(n,(o,l)=>{var c;const h=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),h.length>0){const d=e[o].map(b=>b.presence_ref),g=h.filter(b=>d.indexOf(b.presence_ref)<0);e[o].unshift(...g)}s(o,h,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const h=l.map(d=>d.presence_ref);c=c.filter(d=>h.indexOf(d.presence_ref)<0),e[o]=c,r(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(H||(H={}));const Ln=(i,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((n,a)=>(n[a]=ea(a,i,e,r),n),{})},ea=(i,e,t,s)=>{const r=e.find(o=>o.name===i),n=r==null?void 0:r.type,a=t[i];return n&&!s.includes(n)?pi(n,a):Hr(a)},pi=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return na(e,t)}switch(i){case H.bool:return ta(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return sa(e);case H.json:case H.jsonb:return ra(e);case H.timestamp:return ia(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Hr(e);default:return Hr(e)}},Hr=i=>i,ta=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},sa=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},ra=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},na=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,s=i[t];if(i[0]==="{"&&s==="}"){let n;const a=i.slice(1,t);try{n=JSON.parse("["+a+"]")}catch{n=a?a.split(","):[]}return n.map(o=>pi(e,o))}return i},ia=i=>typeof i=="string"?i.replace(" ","T"):i;var Un;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Un||(Un={}));var Nn;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(Nn||(Nn={}));var Mn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Gr{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new jr(this,pe.join,this.params,this.timeout),this.rejoinTimer=new fi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pe.reply,{},(r,n)=>{this._trigger(this._replyEventName(n),r)}),this.presence=new ps(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const o={},l={broadcast:n,presence:a,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,g=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,b=[];for(let k=0;k<g;k++){const x=d[k],{filter:{event:C,schema:w,table:R,filter:A}}=x,O=c&&c[k];if(O&&O.event===C&&O.schema===w&&O.table===R&&O.filter===A)b.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:a}=e,o={method:"POST",headers:{apikey:(s=this.socket.apiKey)!==null&&s!==void 0?s:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new jr(this,pe.leave,{},e);r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,s){const r=new AbortController,n=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(n),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new jr(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,n;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:h}=pe;if(s&&[o,l,c,h].indexOf(a)>=0&&s!==this._joinRef())return;let g=this._onMessage(a,t,s);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(b=>{var k,x,C;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(x=b.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(b=>b.callback(g,s)):(n=this.bindings[a])===null||n===void 0||n.filter(b=>{var k,x,C,w,R,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in b){const O=b.id,U=(k=b.filter)===null||k===void 0?void 0:k.event;return O&&((x=t.ids)===null||x===void 0?void 0:x.includes(O))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(R=(w=b==null?void 0:b.filter)===null||w===void 0?void 0:w.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return O==="*"||O===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===a}).map(b=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:x,table:C,commit_timestamp:w,type:R,errors:A}=k;g=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:w,eventType:R,new:{},old:{},errors:A}),this._getPayloadRecords(k))}b.callback(g,s)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var n;return!(((n=r.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===s&&Gr.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pe.close,{},e)}_onError(e){this._on(pe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ln(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ln(e.columns,e.old_record)),t}}const aa=()=>{},oa=typeof WebSocket<"u";class la{constructor(e,t){var s;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Yi,this.params={},this.timeout=di,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=aa,this.conn=null,this.sendBuffer=[],this.serializer=new Zi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=n=>{let a;return n?a=n:typeof fetch>"u"?a=(...o)=>Bt(()=>Promise.resolve().then(()=>vs),void 0,import.meta.url).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Mr.websocket}`,t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,a)=>a(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(oa){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ca(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Bt(()=>import("../chunks/browser.BImCA5dO.js").then(e=>e.b),__vite__mapDeps([]),import.meta.url).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return mt.Connecting;case Ft.open:return mt.Open;case Ft.closing:return mt.Closing;default:return mt.Closed}}isConnected(){return this.connectionState()===mt.Open}channel(e,t={config:{}}){const s=new Gr(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:r,ref:n}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${s} (${n})`,r),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(pe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xi}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:r,payload:n,ref:a}=t;(a&&a===this.pendingHeartbeatRef||r===(n==null?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${s} ${r} ${a&&"("+a+")"||""}`,n),this.channels.filter(o=>o._isMember(s)).forEach(o=>o._trigger(r,n,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Qi,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ca{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ft.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Kr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class ha extends Kr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hn extends Kr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ua=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};const _i=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bt(()=>Promise.resolve().then(()=>vs),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},da=()=>ua(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bt(()=>Promise.resolve().then(()=>vs),void 0,import.meta.url)).Response:Response});var Gt=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};const Ir=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),fa=(i,e)=>Gt(void 0,void 0,void 0,function*(){const t=yield da();i instanceof t?i.json().then(s=>{e(new ha(Ir(s),i.status||500))}).catch(s=>{e(new Hn(Ir(s),s))}):e(new Hn(Ir(i),i))}),pa=(i,e,t,s)=>{const r={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};function Ws(i,e,t,s,r,n){return Gt(this,void 0,void 0,function*(){return new Promise((a,o)=>{i(t,pa(e,s,r,n)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>fa(l,o))})})}function Vr(i,e,t,s){return Gt(this,void 0,void 0,function*(){return Ws(i,"GET",e,t,s)})}function Je(i,e,t,s,r){return Gt(this,void 0,void 0,function*(){return Ws(i,"POST",e,s,r,t)})}function _a(i,e,t,s,r){return Gt(this,void 0,void 0,function*(){return Ws(i,"PUT",e,s,r,t)})}function gi(i,e,t,s,r){return Gt(this,void 0,void 0,function*(){return Ws(i,"DELETE",e,s,r,t)})}var he=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};const ga={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class va{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=_i(r)}uploadOrUpdate(e,t,s,r){return he(this,void 0,void 0,function*(){try{let n;const a=Object.assign(Object.assign({},Vn),r),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});typeof Blob<"u"&&s instanceof Blob?(n=new FormData,n.append("cacheControl",a.cacheControl),n.append("",s)):typeof FormData<"u"&&s instanceof FormData?(n=s,n.append("cacheControl",a.cacheControl)):(n=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),d=yield h.json();return h.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}upload(e,t,s){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return he(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),a=this._getFinalPath(n),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Vn.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:h}),g=yield d.json();return d.ok?{data:{path:n,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Z(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return he(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const s=yield Je(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+s.url),n=r.searchParams.get("token");if(!n)throw new Kr("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:n},error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}update(e,t,s){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t){return he(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}copy(e,t){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,s){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=yield Je(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return he(this,void 0,void 0,function*(){try{const r=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${n}`):null})),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}download(e,t){return he(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Vr(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&r.push(n);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${c}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}list(e,t,s){return he(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},ga),t),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ma="2.5.5",ba={"X-Client-Info":`storage-js/${ma}`};var Mt=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};class ya{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},ba),t),this.fetch=_i(s)}listBuckets(){return Mt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Mt(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Mt(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}}class wa extends ya{constructor(e,t={},s){super(e,t,s)}from(e){return new va(this.url,this.headers,e,this.fetch)}}const ka="2.42.0";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const $a={"X-Client-Info":`supabase-js-${fs}/${ka}`},Ea={headers:$a},Sa={schema:"public"},Ta={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ca={};var xa=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};const Oa=i=>{let e;return i?e=i:typeof fetch>"u"?e=Br:e=fetch,(...t)=>e(...t)},ja=()=>typeof Headers>"u"?ui:Headers,Ia=(i,e,t)=>{const s=Oa(t),r=ja();return(n,a)=>xa(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:i;let c=new r(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",i),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(n,Object.assign(Object.assign({},a),{headers:c}))})};function Pa(i){return i.replace(/\/$/,"")}function Aa(i,e){const{db:t,auth:s,realtime:r,global:n}=i,{db:a,auth:o,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),n)}}const vi="2.63.0",Ra="http://localhost:9999",Da="supabase.auth.token",La={"X-Client-Info":`gotrue-js/${vi}`},zn=10,zr="X-Supabase-Api-Version",mi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ua(i){return Math.round(Date.now()/1e3)+i}function Na(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const fe=()=>typeof document<"u",gt={tested:!1,writable:!1},_s=()=>{if(!fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gt.tested)return gt.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),gt.tested=!0,gt.writable=!0}catch{gt.tested=!0,gt.writable=!1}return gt.writable};function Pr(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,n)=>{e[n]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const bi=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bt(()=>Promise.resolve().then(()=>vs),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Ma=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",yi=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},Fs=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ar=async(i,e)=>{await i.removeItem(e)};function Ha(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,r,n,a,o,l,c,h=0;for(i=i.replace("-","+").replace("_","/");h<i.length;)a=e.indexOf(i.charAt(h++)),o=e.indexOf(i.charAt(h++)),l=e.indexOf(i.charAt(h++)),c=e.indexOf(i.charAt(h++)),s=a<<2|o>>4,r=(o&15)<<4|l>>2,n=(l&3)<<6|c,t=t+String.fromCharCode(s),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&n!=0&&(t=t+String.fromCharCode(n));return t}class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ys.promiseConstructor=Promise;function qn(i){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=i.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(Ha(s))}async function Va(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function za(i,e){return new Promise((s,r)=>{(async()=>{for(let n=0;n<1/0;n++)try{const a=await i(n);if(!e(n,null,a)){s(a);return}}catch(a){if(!e(n,a)){r(a);return}}})()})}function qa(i){return("0"+i.toString(16)).substr(-2)}function Fa(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let n=0;n<56;n++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,qa).join("")}async function Ba(i){const t=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(n=>String.fromCharCode(n)).join("")}function Ja(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await Ba(i);return Ja(t)}async function Ht(i,e,t=!1){const s=Fa();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await yi(i,`${e}-code-verifier`,r);const n=await Ga(s);return[n,s===n?"plain":"s256"]}const Ka=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wa(i){const e=i.headers.get(zr);if(!e||!e.match(Ka))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Wr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function D(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Ya extends Wr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Xa(i){return D(i)&&i.name==="AuthApiError"}class wi extends Wr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class bt extends Wr{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class Vt extends bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Rr extends bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Js extends bt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fn extends bt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qr extends bt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Dr(i){return D(i)&&i.name==="AuthRetryableFetchError"}class Bn extends bt{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var Qa=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]]);return t};const vt=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Za=[502,503,504];async function Jn(i){var e;if(!Ma(i))throw new qr(vt(i),0);if(Za.includes(i.status))throw new qr(vt(i),i.status);let t;try{t=await i.json()}catch(n){throw new wi(vt(n),n)}let s;const r=Wa(i);if(r&&r.getTime()>=mi["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Bn(vt(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0))throw new Bn(vt(t),i.status,t.weak_password.reasons);throw new Ya(vt(t),i.status||500,s)}const eo=(i,e,t,s)=>{const r={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function L(i,e,t,s){var r;const n=Object.assign({},s==null?void 0:s.headers);n[zr]||(n[zr]=mi["2024-01-01"].name),s!=null&&s.jwt&&(n.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await to(i,e,t+o,{headers:n,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function to(i,e,t,s,r,n){const a=eo(e,s,r,n);let o;try{o=await i(t,Object.assign(Object.assign({},a),{cache:"no-store"}))}catch(l){throw console.error(l),new qr(vt(l),0)}if(o.ok||await Jn(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(l){await Jn(l)}}function Be(i){var e;let t=null;io(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=Ua(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:s},error:null}}function Gn(i){const e=Be(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Ge(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function so(i){return{data:i,error:null}}function ro(i){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:n}=i,a=Qa(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:n},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function no(i){return i}function io(i){return i.access_token&&i.refresh_token&&i.expires_in}var ao=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]]);return t};class oo{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=bi(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ge})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=ao(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ro,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(D(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ge})}catch(t){if(D(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,n,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(n=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""},xform:no});if(h.error)throw h.error;const d=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,b=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return b.length>0&&(b.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);c[`${C}Page`]=x}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ge})}catch(t){if(D(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ge})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ge})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(D(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(D(t))return{data:null,error:t};throw t}}}const lo={getItem:i=>_s()?globalThis.localStorage.getItem(i):null,setItem:(i,e)=>{_s()&&globalThis.localStorage.setItem(i,e)},removeItem:i=>{_s()&&globalThis.localStorage.removeItem(i)}};function Kn(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}function co(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zt={debug:!!(globalThis&&_s()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ki extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ho extends ki{}async function uo(i,e,t){zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),zt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await t()}finally{zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(e===0)throw zt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new ho(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(zt.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}co();const fo={url:Ra,storageKey:Da,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:La,flowType:"implicit",debug:!1},ds=30*1e3,Wn=3;async function Yn(i,e,t){return await t()}class gs{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.insecureGetSessionWarningShown=!1,this.instanceID=gs.nextInstanceID,gs.nextInstanceID+=1,this.instanceID>0&&fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},fo),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new oo({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=bi(r.fetch),this.lock=r.lock||Yn,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,r.lock?this.lock=r.lock:fe()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=uo:this.lock=Yn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_s()?this.storage=lo:(this.memoryStorage={},this.storage=Kn(this.memoryStorage)):(this.memoryStorage={},this.storage=Kn(this.memoryStorage)),fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=fe()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),(s==null?void 0:s.message)==="Identity is already linked"||(s==null?void 0:s.message)==="Identity is already linked to another user"?{error:s}:(await this._removeSession(),{error:s});const{session:r,redirectType:n}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",n),await this._saveSession(r),setTimeout(async()=>{n==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return D(e)?{error:e}:{error:new wi("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{await this._removeSession();const n=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Be}),{data:a,error:o}=n;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var t,s,r;try{await this._removeSession();let n;if("email"in e){const{email:h,password:d,options:g}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Ht(this.storage,this.storageKey)),n=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:d,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:k},xform:Be})}else if("phone"in e){const{phone:h,password:d,options:g}=e;n=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(r=g==null?void 0:g.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Be})}else throw new Bs("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:n,password:a,options:o}=e;t=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gn})}else if("phone"in e){const{phone:n,password:a,options:o}=e;t=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gn})}else throw new Bs("You must provide either an email or phone number and a password");const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Rr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,n;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Fs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/"),{data:n,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Be});return await Ar(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Rr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:r??null}),error:a})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:s,token:r,access_token:n,nonce:a}=e,o=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Be}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,n,a;try{if(await this._removeSession(),"email"in e){const{email:o,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ht(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Bs("You must provide either an email or phone number.")}catch(o){if(D(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,n;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,n=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:o}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:r,xform:Be});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{await this._removeSession();let n=null,a=null;return this.flowType==="pkce"&&([n,a]=await Ht(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:a}),headers:this.headers,xform:so})}catch(n){if(D(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Vt;const{error:r}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:n}=e,{error:a}=await L(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:r,options:n}=e,{data:a,error:o}=await L(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Bs("You must provide either an email or phone number and a type")}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;const e=await this._acquireLock(-1,async()=>this._useSession(async t=>t));return e.data&&this.storage.isServer&&(this.insecureGetSessionWarningShown||(console.warn("Using supabase.auth.getSession() is potentially insecure as it loads data directly from the storage medium (typically cookies) which may not be authentic. Prefer using supabase.auth.getUser() instead. To suppress this warning call supabase.auth.getUser() before you call supabase.auth.getSession()."),this.insecureGetSessionWarningShown=!0)),e}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let a=e.user;delete e.user,Object.defineProperty(e,"user",{enumerable:!0,get:()=>(e.__suppressUserWarning||console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a),set:o=>{a=o}})}return{data:{session:e},error:null}}const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data&&this.storage.isServer&&(this.insecureGetSessionWarningShown=!0),t}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ge}):await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)throw a;return await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:Ge})})}catch(t){if(D(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:n}=s;if(n)throw n;if(!r.session)throw new Vt;const a=r.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ht(this.storage,this.storageKey));const{data:c,error:h}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ge});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return qn(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const t=Date.now()/1e3;let s=t,r=!0,n=null;const a=qn(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};n=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(D(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!fe())throw new Js("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Js("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Fn("Not a valid PKCE flow url.");const t=Pr(window.location.href);if(e){if(!t.code)throw new Fn("No code detected.");const{data:R,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:R.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:r,access_token:n,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!n||!o||!a||!c)throw new Js("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(o);let g=h+d;l&&(g=parseInt(l));const b=g-h;b*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${d}s`);const k=g-d;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",k,g,h);const{data:x,error:C}=await this._getUser(n);if(C)throw C;const w={provider_token:s,provider_refresh_token:r,access_token:n,expires_in:d,expires_at:g,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(t){if(D(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=Pr(window.location.href);return!!(fe()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Pr(window.location.href),t=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return{error:n};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Xa(o)&&(o.status===404||o.status===401)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=Na(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:n},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Ht(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(D(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(D(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession(async n=>{var a,o,l,c,h;const{data:d,error:g}=n;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return fe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(D(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(D(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await za(async r=>(await Va(r*200),this._debug(t,"refreshing attempt",r),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Be})),(r,n,a)=>a&&a.error&&Dr(a.error)&&Date.now()+(r+1)*200-s<ds)}catch(s){if(this._debug(t,"error",s),D(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),fe()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Fs(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+zn;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${zn}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Dr(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ys;const{data:n,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!n.session)throw new Vt;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const o={session:n.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(n){if(this._debug(r,"error",n),D(n)){const a={session:null,error:n};return Dr(n)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){n.push(l)}});if(await Promise.all(a),n.length>0){for(let o=0;o<n.length;o+=1)console.error(n[o]);throw n[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await yi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ds}ms, refresh threshold is ${Wn} ticks`),r<=Wn&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ki)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[n,a]=await Ht(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(o.toString())}if(s!=null&&s.queryParams){const n=new URLSearchParams(s.queryParams);r.push(n.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?{data:null,error:n}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(D(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(D(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return{data:null,error:n};const{data:a,error:o}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(D(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?{data:null,error:n}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(D(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],r=s.filter(n=>n.factor_type==="totp"&&n.status==="verified");return{data:{all:s,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:n}=e;if(n)return{data:null,error:n};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}gs.nextInstanceID=0;const po=gs;class _o extends po{constructor(e){super(e)}}var go=function(i,e,t,s){function r(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function o(h){try{c(s.next(h))}catch(d){a(d)}}function l(h){try{c(s.throw(h))}catch(d){a(d)}}function c(h){h.done?n(h.value):r(h.value).then(o,l)}c((s=s.apply(i,e||[])).next())})};class vo{constructor(e,t,s){var r,n,a,o,l,c,h,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const g=Pa(e);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const b=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,k={db:Sa,realtime:Ca,auth:Object.assign(Object.assign({},Ta),{storageKey:b}),global:Ea},x=Aa(s??{},k);this.storageKey=(n=(r=x.auth)===null||r===void 0?void 0:r.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=(a=x.global)===null||a===void 0?void 0:a.headers)!==null&&o!==void 0?o:{},this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,(c=x.global)===null||c===void 0?void 0:c.fetch),this.fetch=Ia(t,this._getAccessToken.bind(this),(h=x.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new Jr(`${g}/rest/v1`,{headers:this.headers,schema:(d=x.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ni(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wa(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return go(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:n,flowType:a,debug:o},l,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _o({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:a,debug:o,fetch:c})}_initRealtimeClient(e){return new la(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mo=(i,e,t)=>new vo(i,e,t);function bo(i){let e,t,s;const r=i[10].default,n=ri(r,i,i[9],null);return{c(){e=p("div"),n&&n.c(),this.h()},l(a){e=_(a,"DIV",{style:!0});var o=E(e);n&&n.l(o),o.forEach(u),this.h()},h(){m(e,"style",t="animation: "+i[1]+"; "+i[3])},m(a,o){y(a,e,o),n&&n.m(e,null),s=!0},p(a,o){n&&n.p&&(!s||o&512)&&ni(n,r,a,a[9],s?ai(r,a[9],o,null):ii(a[9]),null),(!s||o&10&&t!==(t="animation: "+a[1]+"; "+a[3]))&&m(e,"style",t)},i(a){s||(z(n,a),s=!0)},o(a){V(n,a),s=!1},d(a){a&&u(e),n&&n.d(a)}}}function yo(i){let e,t,s;const r=i[10].default,n=ri(r,i,i[9],null);return{c(){e=p("div"),n&&n.c(),this.h()},l(a){e=_(a,"DIV",{style:!0});var o=E(e);n&&n.l(o),o.forEach(u),this.h()},h(){m(e,"style",t="animation: "+i[0]+"; "+i[3])},m(a,o){y(a,e,o),n&&n.m(e,null),s=!0},p(a,o){n&&n.p&&(!s||o&512)&&ni(n,r,a,a[9],s?ai(r,a[9],o,null):ii(a[9]),null),(!s||o&9&&t!==(t="animation: "+a[0]+"; "+a[3]))&&m(e,"style",t)},i(a){s||(z(n,a),s=!0)},o(a){V(n,a),s=!1},d(a){a&&u(e),n&&n.d(a)}}}function wo(i){let e,t,s,r;const n=[yo,bo],a=[];function o(l,c){return l[4]?0:1}return t=o(i),s=a[t]=n[t](i),{c(){e=p("div"),s.c(),this.h()},l(l){e=_(l,"DIV",{id:!0,style:!0});var c=E(e);s.l(c),c.forEach(u),this.h()},h(){m(e,"id",i[5]),m(e,"style",i[2])},m(l,c){y(l,e,c),a[t].m(e,null),r=!0},p(l,[c]){let h=t;t=o(l),t===h?a[t].p(l,c):(ci(),V(a[h],1,1,()=>{a[h]=null}),hi(),s=a[t],s?s.p(l,c):(s=a[t]=n[t](l),s.c()),z(s,1),s.m(e,null)),(!r||c&4)&&m(e,"style",l[2])},i(l){r||(z(s),r=!0)},o(l){V(s),r=!1},d(l){l&&u(e),a[t].d()}}}function ko(i,e,t){let{$$slots:s={},$$scope:r}=e,{animation:n="none"}=e,{animation_out:a="none; opacity: 0"}=e,{once:o=!1}=e,{top:l=0}=e,{bottom:c=0}=e,{css_observer:h=""}=e,{css_animation:d=""}=e;const g=$i();let b=!0;const k=`__saos-${Math.random()}__`;function x(w){const R=`${-c}px 0px ${-l}px 0px`,A=new IntersectionObserver(O=>{t(4,b=O[0].isIntersecting),b&&o&&A.unobserve(w)},{rootMargin:R});return A.observe(w),()=>A.unobserve(w)}function C(w){const R=w.getBoundingClientRect();return t(4,b=R.top+l<window.innerHeight&&R.bottom-c>0),b&&o&&window.removeEventListener("scroll",verify),window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)}return si(()=>{const w=document.getElementById(k);return IntersectionObserver?x(w):C(w)}),i.$$set=w=>{"animation"in w&&t(0,n=w.animation),"animation_out"in w&&t(1,a=w.animation_out),"once"in w&&t(6,o=w.once),"top"in w&&t(7,l=w.top),"bottom"in w&&t(8,c=w.bottom),"css_observer"in w&&t(2,h=w.css_observer),"css_animation"in w&&t(3,d=w.css_animation),"$$scope"in w&&t(9,r=w.$$scope)},i.$$.update=()=>{i.$$.dirty&16&&g("update",{observing:b})},[n,a,h,d,b,k,o,l,c,r,s]}class Y extends oi{constructor(e){super(),li(this,e,ko,wo,ti,{animation:0,animation_out:1,once:6,top:7,bottom:8,css_observer:2,css_animation:3})}}const{document:Lr}=Ii;function Xn(i,e,t){const s=i.slice();return s[34]=e[t],s[36]=t,s}function $o(i){let e,t,s,r='<source src="/musik/Sezairi-It-s-You.mp3" type="audio/mpeg"/>',n,a,o,l,c='<div class="relative h-[50vh] grid justify-center items-end pb-5"><div class="text-center text-white"><h4>The Wedding Of</h4> <h1>Dewa Tresna &amp; Dewa Ayu Tirtawati</h1> <p>17.05.2024 | Gianyar</p></div></div>',h,d,g,b,k,x,C,w,R,A,O,U,j,P,N,ee,q,te,ge,se,ae,ms,M,Ke,oe,Kt="<h1>&amp;</h1>",We,ve,Xs,xe,Oe,Qs,je,bs,Ye,le,Ie,Zs,Pe,er,yt,wt,kt,Wt,Ae,tr,$t,Et,St,Yt,Re,ys,Tt,Ct,De,Le,sr,me,xt,Ue,rr,Ne,nr,Ot,B,Xe,Xt,ws,ir,Qe,Yr="Days",ar,jt,Xr="<h1>:</h1>",or,Ze,Qt,ks,lr,et,Qr="Hours",cr,It,Zr="<h1>:</h1>",hr,tt,Zt,$s,ur,st,en="Minutes",dr,Pt,tn="<h1>:</h1>",fr,rt,es,Es,pr,nt,sn="Seconds",Ss,At,Me,He,_r,Ve,Ts,it,be,at,rn='<div><label for="name" class="block text-sm font-medium text-gray-700">Nama</label> <input type="text" id="name" name="name" class="mt-1 p-2 block w-full border-gray-300 rounded-md"/></div>',gr,ze,ot,qe,nn="Hadir",vr,we,ke,an="Ya",$e,on="Tidak",mr,Rt,ln='<label for="pesan" class="block text-sm font-medium text-gray-700">Pesan</label> <textarea id="pesan" name="pesan" class="mt-1 p-2 block w-full border-gray-300 rounded-md"></textarea>',br,lt,cn='<button type="submit" class="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Submit</button>',Cs,Ee,ct,yr,ye,Se,wr,xs,kr,Te,$r,Os,Er,js,Sr,Ce,Tr,Is,Ps,Fe,hn='<div class="container mx-auto text-center"><p class="text-white">© 2024 Dewa Tresna &amp; . All rights reserved.</p></div>',ce,Cr,un;w=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[So]},$$scope:{ctx:i}}}),A=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[To]},$$scope:{ctx:i}}}),N=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Co]},$$scope:{ctx:i}}}),te=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[xo]},$$scope:{ctx:i}}}),ae=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Oo]},$$scope:{ctx:i}}}),M=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[jo]},$$scope:{ctx:i}}}),ve=new Y({props:{animation:i[13]?"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both":"",$$slots:{default:[Io]},$$scope:{ctx:i}}}),Oe=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Po]},$$scope:{ctx:i}}}),je=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Ao]},$$scope:{ctx:i}}}),Ie=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Ro]},$$scope:{ctx:i}}}),Pe=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Do]},$$scope:{ctx:i}}}),Ae=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Lo]},$$scope:{ctx:i}}}),Re=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Uo]},$$scope:{ctx:i}}}),Le=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[No]},$$scope:{ctx:i}}}),Ue=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Mo]},$$scope:{ctx:i}}}),Ne=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Ho]},$$scope:{ctx:i}}}),He=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[Vo]},$$scope:{ctx:i}}}),Ve=new Y({props:{animation:"scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",$$slots:{default:[zo]},$$scope:{ctx:i}}});function dn(v,$){return v[8].length>0?Fo:qo}let As=dn(i),ue=As(i);return{c(){e=p("section"),t=p("div"),s=p("audio"),s.innerHTML=r,n=S(),a=p("section"),o=p("div"),l=p("div"),l.innerHTML=c,h=S(),d=p("div"),g=p("div"),b=p("img"),x=S(),C=p("div"),J(w.$$.fragment),R=S(),J(A.$$.fragment),O=S(),U=p("section"),j=p("div"),P=p("div"),J(N.$$.fragment),ee=S(),q=p("div"),J(te.$$.fragment),ge=S(),se=p("div"),J(ae.$$.fragment),ms=S(),J(M.$$.fragment),Ke=S(),oe=p("div"),oe.innerHTML=Kt,We=S(),J(ve.$$.fragment),Xs=S(),xe=p("div"),J(Oe.$$.fragment),Qs=S(),J(je.$$.fragment),bs=S(),Ye=p("section"),le=p("div"),J(Ie.$$.fragment),Zs=S(),J(Pe.$$.fragment),er=S(),yt=p("div"),wt=p("div"),kt=p("div"),Wt=p("div"),J(Ae.$$.fragment),tr=S(),$t=p("div"),Et=p("div"),St=p("div"),Yt=p("div"),J(Re.$$.fragment),ys=S(),Tt=p("section"),Ct=p("div"),De=p("div"),J(Le.$$.fragment),sr=S(),me=p("div"),xt=p("div"),J(Ue.$$.fragment),rr=S(),J(Ne.$$.fragment),nr=S(),Ot=p("div"),B=p("div"),Xe=p("div"),Xt=p("h1"),ws=X(i[2]),ir=S(),Qe=p("span"),Qe.textContent=Yr,ar=S(),jt=p("div"),jt.innerHTML=Xr,or=S(),Ze=p("div"),Qt=p("h1"),ks=X(i[3]),lr=S(),et=p("span"),et.textContent=Qr,cr=S(),It=p("div"),It.innerHTML=Zr,hr=S(),tt=p("div"),Zt=p("h1"),$s=X(i[4]),ur=S(),st=p("span"),st.textContent=en,dr=S(),Pt=p("div"),Pt.innerHTML=tn,fr=S(),rt=p("div"),es=p("h1"),Es=X(i[5]),pr=S(),nt=p("span"),nt.textContent=sn,Ss=S(),At=p("section"),Me=p("div"),J(He.$$.fragment),_r=S(),J(Ve.$$.fragment),Ts=S(),it=p("section"),be=p("form"),at=p("div"),at.innerHTML=rn,gr=S(),ze=p("div"),ot=p("div"),qe=p("label"),qe.textContent=nn,vr=S(),we=p("select"),ke=p("option"),ke.textContent=an,$e=p("option"),$e.textContent=on,mr=S(),Rt=p("div"),Rt.innerHTML=ln,br=S(),lt=p("div"),lt.innerHTML=cn,Cs=S(),Ee=p("section"),ct=p("div"),ue.c(),yr=S(),ye=p("div"),Se=p("button"),wr=X("Prev"),kr=S(),Te=p("span"),$r=X("Page "),Os=X(i[7]),Er=X(" of "),js=X(i[9]),Sr=S(),Ce=p("button"),Tr=X("Next"),Ps=S(),Fe=p("footer"),Fe.innerHTML=hn,this.h()},l(v){e=_(v,"SECTION",{});var $=E(e);t=_($,"DIV",{class:!0});var ts=E(t);s=_(ts,"AUDIO",{id:!0,class:!0,"data-svelte-h":!0}),I(s)!=="svelte-1igx1ut"&&(s.innerHTML=r),ts.forEach(u),$.forEach(u),n=T(v),a=_(v,"SECTION",{class:!0});var ss=E(a);o=_(ss,"DIV",{style:!0});var ht=E(o);l=_(ht,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),I(l)!=="svelte-jxt15z"&&(l.innerHTML=c),h=T(ht),d=_(ht,"DIV",{class:!0});var rs=E(d);g=_(rs,"DIV",{class:!0});var ut=E(g);b=_(ut,"IMG",{class:!0,src:!0,alt:!0}),x=T(ut),C=_(ut,"DIV",{class:!0});var dt=E(C);G(w.$$.fragment,dt),R=T(dt),G(A.$$.fragment,dt),dt.forEach(u),ut.forEach(u),rs.forEach(u),ht.forEach(u),ss.forEach(u),O=T(v),U=_(v,"SECTION",{class:!0});var ns=E(U);j=_(ns,"DIV",{class:!0});var ft=E(j);P=_(ft,"DIV",{class:!0});var is=E(P);G(N.$$.fragment,is),is.forEach(u),ee=T(ft),q=_(ft,"DIV",{class:!0});var ne=E(q);G(te.$$.fragment,ne),ge=T(ne),se=_(ne,"DIV",{class:!0});var pt=E(se);G(ae.$$.fragment,pt),ms=T(pt),G(M.$$.fragment,pt),pt.forEach(u),Ke=T(ne),oe=_(ne,"DIV",{class:!0,"data-svelte-h":!0}),I(oe)!=="svelte-1hjvaip"&&(oe.innerHTML=Kt),We=T(ne),G(ve.$$.fragment,ne),Xs=T(ne),xe=_(ne,"DIV",{class:!0});var _t=E(xe);G(Oe.$$.fragment,_t),Qs=T(_t),G(je.$$.fragment,_t),_t.forEach(u),ne.forEach(u),ft.forEach(u),ns.forEach(u),bs=T(v),Ye=_(v,"SECTION",{class:!0});var as=E(Ye);le=_(as,"DIV",{class:!0});var de=E(le);G(Ie.$$.fragment,de),Zs=T(de),G(Pe.$$.fragment,de),er=T(de),yt=_(de,"DIV",{class:!0});var os=E(yt);wt=_(os,"DIV",{style:!0});var ls=E(wt);kt=_(ls,"DIV",{class:!0});var cs=E(kt);Wt=_(cs,"DIV",{});var hs=E(Wt);G(Ae.$$.fragment,hs),hs.forEach(u),cs.forEach(u),ls.forEach(u),os.forEach(u),tr=T(de),$t=_(de,"DIV",{class:!0});var fn=E($t);Et=_(fn,"DIV",{style:!0});var pn=E(Et);St=_(pn,"DIV",{class:!0});var _n=E(St);Yt=_(_n,"DIV",{});var gn=E(Yt);G(Re.$$.fragment,gn),gn.forEach(u),_n.forEach(u),pn.forEach(u),fn.forEach(u),de.forEach(u),as.forEach(u),ys=T(v),Tt=_(v,"SECTION",{});var vn=E(Tt);Ct=_(vn,"DIV",{class:!0});var mn=E(Ct);De=_(mn,"DIV",{class:!0});var Rs=E(De);G(Le.$$.fragment,Rs),sr=T(Rs),me=_(Rs,"DIV",{class:!0});var Dt=E(me);xt=_(Dt,"DIV",{class:!0});var bn=E(xt);G(Ue.$$.fragment,bn),bn.forEach(u),rr=T(Dt),G(Ne.$$.fragment,Dt),nr=T(Dt),Ot=_(Dt,"DIV",{class:!0});var yn=E(Ot);B=_(yn,"DIV",{class:!0});var re=E(B);Xe=_(re,"DIV",{});var Ds=E(Xe);Xt=_(Ds,"H1",{});var wn=E(Xt);ws=Q(wn,i[2]),wn.forEach(u),ir=T(Ds),Qe=_(Ds,"SPAN",{class:!0,"data-svelte-h":!0}),I(Qe)!=="svelte-9r6nng"&&(Qe.textContent=Yr),Ds.forEach(u),ar=T(re),jt=_(re,"DIV",{"data-svelte-h":!0}),I(jt)!=="svelte-1i043g9"&&(jt.innerHTML=Xr),or=T(re),Ze=_(re,"DIV",{});var Ls=E(Ze);Qt=_(Ls,"H1",{});var kn=E(Qt);ks=Q(kn,i[3]),kn.forEach(u),lr=T(Ls),et=_(Ls,"SPAN",{class:!0,"data-svelte-h":!0}),I(et)!=="svelte-26zc6g"&&(et.textContent=Qr),Ls.forEach(u),cr=T(re),It=_(re,"DIV",{"data-svelte-h":!0}),I(It)!=="svelte-1i043g9"&&(It.innerHTML=Zr),hr=T(re),tt=_(re,"DIV",{});var Us=E(tt);Zt=_(Us,"H1",{});var $n=E(Zt);$s=Q($n,i[4]),$n.forEach(u),ur=T(Us),st=_(Us,"SPAN",{class:!0,"data-svelte-h":!0}),I(st)!=="svelte-1rfb4fm"&&(st.textContent=en),Us.forEach(u),dr=T(re),Pt=_(re,"DIV",{"data-svelte-h":!0}),I(Pt)!=="svelte-1i043g9"&&(Pt.innerHTML=tn),fr=T(re),rt=_(re,"DIV",{});var Ns=E(rt);es=_(Ns,"H1",{});var En=E(es);Es=Q(En,i[5]),En.forEach(u),pr=T(Ns),nt=_(Ns,"SPAN",{class:!0,"data-svelte-h":!0}),I(nt)!=="svelte-15u91em"&&(nt.textContent=sn),Ns.forEach(u),re.forEach(u),yn.forEach(u),Dt.forEach(u),Rs.forEach(u),mn.forEach(u),vn.forEach(u),Ss=T(v),At=_(v,"SECTION",{});var Sn=E(At);Me=_(Sn,"DIV",{class:!0});var Ms=E(Me);G(He.$$.fragment,Ms),_r=T(Ms),G(Ve.$$.fragment,Ms),Ms.forEach(u),Sn.forEach(u),Ts=T(v),it=_(v,"SECTION",{class:!0});var Tn=E(it);be=_(Tn,"FORM",{});var Lt=E(be);at=_(Lt,"DIV",{class:!0,"data-svelte-h":!0}),I(at)!=="svelte-1jm7lzz"&&(at.innerHTML=rn),gr=T(Lt),ze=_(Lt,"DIV",{class:!0});var Hs=E(ze);ot=_(Hs,"DIV",{});var Vs=E(ot);qe=_(Vs,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),I(qe)!=="svelte-1dw7lnm"&&(qe.textContent=nn),vr=T(Vs),we=_(Vs,"SELECT",{id:!0,name:!0,class:!0});var xr=E(we);ke=_(xr,"OPTION",{"data-svelte-h":!0}),I(ke)!=="svelte-ogu6lk"&&(ke.textContent=an),$e=_(xr,"OPTION",{"data-svelte-h":!0}),I($e)!=="svelte-r07p1e"&&($e.textContent=on),xr.forEach(u),Vs.forEach(u),mr=T(Hs),Rt=_(Hs,"DIV",{"data-svelte-h":!0}),I(Rt)!=="svelte-qna4b2"&&(Rt.innerHTML=ln),Hs.forEach(u),br=T(Lt),lt=_(Lt,"DIV",{class:!0,"data-svelte-h":!0}),I(lt)!=="svelte-1rkyu3l"&&(lt.innerHTML=cn),Lt.forEach(u),Tn.forEach(u),Cs=T(v),Ee=_(v,"SECTION",{class:!0});var zs=E(Ee);ct=_(zs,"DIV",{class:!0});var Cn=E(ct);ue.l(Cn),Cn.forEach(u),yr=T(zs),ye=_(zs,"DIV",{class:!0});var Ut=E(ye);Se=_(Ut,"BUTTON",{class:!0});var xn=E(Se);wr=Q(xn,"Prev"),xn.forEach(u),kr=T(Ut),Te=_(Ut,"SPAN",{class:!0});var us=E(Te);$r=Q(us,"Page "),Os=Q(us,i[7]),Er=Q(us," of "),js=Q(us,i[9]),us.forEach(u),Sr=T(Ut),Ce=_(Ut,"BUTTON",{class:!0});var On=E(Ce);Tr=Q(On,"Next"),On.forEach(u),Ut.forEach(u),zs.forEach(u),Ps=T(v),Fe=_(v,"FOOTER",{class:!0,"data-svelte-h":!0}),I(Fe)!=="svelte-298sfi"&&(Fe.innerHTML=hn),this.h()},h(){m(s,"id","audioPlayer"),s.controls=!0,s.autoplay=!0,m(s,"class","w-full"),m(t,"class","audio-container relative hidden"),m(l,"class","head-content"),Nt(l,"background-image","linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, 0.54) 100%), url('/asset/dewa-tresna/CHE08512.jpg')",1),Nt(l,"background-position","40% 50%"),Nt(l,"height","50vh"),Nt(l,"background-size","cover"),Nt(l,"background-repeat","no-repeat"),m(b,"class","w-full"),Ks(b.src,k="/asset/dewa-tresna/CHE08496.jpg")||m(b,"src",k),m(b,"alt","Sunset in the mountains"),m(C,"class","px-6 py-4 text-center"),m(g,"class","p-5"),m(d,"class","rounded overflow-hidden shadow-lg bg-white"),Nt(o,"background-image","linear-gradient(180deg, #969696 0%, #353535 100%)",1),m(a,"class","content"),m(P,"class","text-center p-10"),m(se,"class","text-center"),m(oe,"class","py-5"),m(xe,"class","text-center"),m(q,"class","my-5"),m(j,"class","relative bg-white border border-gray-200 rounded-lg shadow mx-5"),m(U,"class","my-8"),m(kt,"class","flex items-center justify-center h-[50vh] text-white"),m(wt,"style","background-image:linear-gradient(185deg, rgba(0, 0, 0, 0.55) 0%, rgba(0, 0, 0, 0.57) 100%), url('/asset/dewa-tresna/CHE08501.jpg') !important; background-position: 40% 50%; background-repeat: no-repeat; object-fit: cover; background-size: cover; height:50vh; border-radius: 10px; }"),m(yt,"class","py-5"),m(St,"class","flex items-center justify-center h-[50vh] text-white"),m(Et,"style","background-image:linear-gradient(185deg, rgba(0, 0, 0, 0.55) 0%, rgba(0, 0, 0, 0.57) 100%), url('/asset/dewa-tresna/CHE08476.jpg') !important; background-position: 40% 50%; background-repeat: no-repeat; object-fit: cover; background-size: cover; height:50vh; border-radius: 10px; }"),m($t,"class","py-5"),m(le,"class","p-5 text-center"),m(Ye,"class","my-8 bg-slate-100"),m(xt,"class","font-bold text-xl mb-2"),m(Qe,"class","text-sm text-gray-600"),m(et,"class","text-sm text-gray-600"),m(st,"class","text-sm text-gray-600"),m(nt,"class","text-sm text-gray-600"),m(B,"class","flex space-x-1 justify-center"),m(Ot,"class","py-5"),m(me,"class","px-6 py-4 text-center"),m(De,"class","p-5"),m(Ct,"class","roundedshadow-lg bg-white m-5 rounded-lg"),m(Me,"class","p-5 text-center"),m(at,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),m(qe,"for","hadir"),m(qe,"class","block text-sm font-medium text-gray-700"),ke.__value="true",In(ke,ke.__value),$e.__value="false",In($e,$e.__value),m(we,"id","hadir"),m(we,"name","hadir"),m(we,"class","mt-1 p-2 block w-full border-gray-300 rounded-md"),m(ze,"class","grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"),m(lt,"class","mt-6"),m(it,"class","px-5"),m(ct,"class","p-5"),m(Se,"class","flex items-center px-4 py-2 text-white bg-blue-500 rounded-md disabled:opacity-50"),Se.disabled=xs=i[7]===1,m(Te,"class","text-gray-700"),m(Ce,"class","flex items-center px-4 py-2 text-white bg-blue-500 rounded-md disabled:opacity-50"),Ce.disabled=Is=i[7]===i[9],m(ye,"class","flex items-center justify-center space-x-4"),m(Ee,"class","py-5"),m(Fe,"class","bg-black py-4")},m(v,$){y(v,e,$),f(e,t),f(t,s),i[17](s),y(v,n,$),y(v,a,$),f(a,o),f(o,l),f(o,h),f(o,d),f(d,g),f(g,b),f(g,x),f(g,C),K(w,C,null),f(C,R),K(A,C,null),y(v,O,$),y(v,U,$),f(U,j),f(j,P),K(N,P,null),f(j,ee),f(j,q),K(te,q,null),f(q,ge),f(q,se),K(ae,se,null),f(se,ms),K(M,se,null),f(q,Ke),f(q,oe),f(q,We),K(ve,q,null),f(q,Xs),f(q,xe),K(Oe,xe,null),f(xe,Qs),K(je,xe,null),y(v,bs,$),y(v,Ye,$),f(Ye,le),K(Ie,le,null),f(le,Zs),K(Pe,le,null),f(le,er),f(le,yt),f(yt,wt),f(wt,kt),f(kt,Wt),K(Ae,Wt,null),f(le,tr),f(le,$t),f($t,Et),f(Et,St),f(St,Yt),K(Re,Yt,null),y(v,ys,$),y(v,Tt,$),f(Tt,Ct),f(Ct,De),K(Le,De,null),f(De,sr),f(De,me),f(me,xt),K(Ue,xt,null),f(me,rr),K(Ne,me,null),f(me,nr),f(me,Ot),f(Ot,B),f(B,Xe),f(Xe,Xt),f(Xt,ws),f(Xe,ir),f(Xe,Qe),f(B,ar),f(B,jt),f(B,or),f(B,Ze),f(Ze,Qt),f(Qt,ks),f(Ze,lr),f(Ze,et),f(B,cr),f(B,It),f(B,hr),f(B,tt),f(tt,Zt),f(Zt,$s),f(tt,ur),f(tt,st),f(B,dr),f(B,Pt),f(B,fr),f(B,rt),f(rt,es),f(es,Es),f(rt,pr),f(rt,nt),y(v,Ss,$),y(v,At,$),f(At,Me),K(He,Me,null),f(Me,_r),K(Ve,Me,null),y(v,Ts,$),y(v,it,$),f(it,be),f(be,at),f(be,gr),f(be,ze),f(ze,ot),f(ot,qe),f(ot,vr),f(ot,we),f(we,ke),f(we,$e),f(ze,mr),f(ze,Rt),f(be,br),f(be,lt),y(v,Cs,$),y(v,Ee,$),f(Ee,ct),ue.m(ct,null),f(Ee,yr),f(Ee,ye),f(ye,Se),f(Se,wr),f(ye,kr),f(ye,Te),f(Te,$r),f(Te,Os),f(Te,Er),f(Te,js),f(ye,Sr),f(ye,Ce),f(Ce,Tr),y(v,Ps,$),y(v,Fe,$),ce=!0,Cr||(un=[Gs(be,"submit",Ci(i[15])),Gs(Se,"click",i[18]),Gs(Ce,"click",i[19])],Cr=!0)},p(v,$){const ts={};$[1]&64&&(ts.$$scope={dirty:$,ctx:v}),w.$set(ts);const ss={};$[1]&64&&(ss.$$scope={dirty:$,ctx:v}),A.$set(ss);const ht={};$[1]&64&&(ht.$$scope={dirty:$,ctx:v}),N.$set(ht);const rs={};$[1]&64&&(rs.$$scope={dirty:$,ctx:v}),te.$set(rs);const ut={};$[1]&64&&(ut.$$scope={dirty:$,ctx:v}),ae.$set(ut);const dt={};$[1]&64&&(dt.$$scope={dirty:$,ctx:v}),M.$set(dt);const ns={};$[1]&64&&(ns.$$scope={dirty:$,ctx:v}),ve.$set(ns);const ft={};$[1]&64&&(ft.$$scope={dirty:$,ctx:v}),Oe.$set(ft);const is={};$[1]&64&&(is.$$scope={dirty:$,ctx:v}),je.$set(is);const ne={};$[1]&64&&(ne.$$scope={dirty:$,ctx:v}),Ie.$set(ne);const pt={};$[1]&64&&(pt.$$scope={dirty:$,ctx:v}),Pe.$set(pt);const _t={};$[1]&64&&(_t.$$scope={dirty:$,ctx:v}),Ae.$set(_t);const as={};$[1]&64&&(as.$$scope={dirty:$,ctx:v}),Re.$set(as);const de={};$[1]&64&&(de.$$scope={dirty:$,ctx:v}),Le.$set(de);const os={};$[1]&64&&(os.$$scope={dirty:$,ctx:v}),Ue.$set(os);const ls={};$[1]&64&&(ls.$$scope={dirty:$,ctx:v}),Ne.$set(ls),(!ce||$[0]&4)&&_e(ws,v[2]),(!ce||$[0]&8)&&_e(ks,v[3]),(!ce||$[0]&16)&&_e($s,v[4]),(!ce||$[0]&32)&&_e(Es,v[5]);const cs={};$[1]&64&&(cs.$$scope={dirty:$,ctx:v}),He.$set(cs);const hs={};$[1]&64&&(hs.$$scope={dirty:$,ctx:v}),Ve.$set(hs),As===(As=dn(v))&&ue?ue.p(v,$):(ue.d(1),ue=As(v),ue&&(ue.c(),ue.m(ct,null))),(!ce||$[0]&128&&xs!==(xs=v[7]===1))&&(Se.disabled=xs),(!ce||$[0]&128)&&_e(Os,v[7]),(!ce||$[0]&512)&&_e(js,v[9]),(!ce||$[0]&640&&Is!==(Is=v[7]===v[9]))&&(Ce.disabled=Is)},i(v){ce||(z(w.$$.fragment,v),z(A.$$.fragment,v),z(N.$$.fragment,v),z(te.$$.fragment,v),z(ae.$$.fragment,v),z(M.$$.fragment,v),z(ve.$$.fragment,v),z(Oe.$$.fragment,v),z(je.$$.fragment,v),z(Ie.$$.fragment,v),z(Pe.$$.fragment,v),z(Ae.$$.fragment,v),z(Re.$$.fragment,v),z(Le.$$.fragment,v),z(Ue.$$.fragment,v),z(Ne.$$.fragment,v),z(He.$$.fragment,v),z(Ve.$$.fragment,v),ce=!0)},o(v){V(w.$$.fragment,v),V(A.$$.fragment,v),V(N.$$.fragment,v),V(te.$$.fragment,v),V(ae.$$.fragment,v),V(M.$$.fragment,v),V(ve.$$.fragment,v),V(Oe.$$.fragment,v),V(je.$$.fragment,v),V(Ie.$$.fragment,v),V(Pe.$$.fragment,v),V(Ae.$$.fragment,v),V(Re.$$.fragment,v),V(Le.$$.fragment,v),V(Ue.$$.fragment,v),V(Ne.$$.fragment,v),V(He.$$.fragment,v),V(Ve.$$.fragment,v),ce=!1},d(v){v&&(u(e),u(n),u(a),u(O),u(U),u(bs),u(Ye),u(ys),u(Tt),u(Ss),u(At),u(Ts),u(it),u(Cs),u(Ee),u(Ps),u(Fe)),i[17](null),W(w),W(A),W(N),W(te),W(ae),W(M),W(ve),W(Oe),W(je),W(Ie),W(Pe),W(Ae),W(Re),W(Le),W(Ue),W(Ne),W(He),W(Ve),ue.d(),Cr=!1,xi(un)}}}function Eo(i){let e,t,s='<div class="text-center text-white"><h4 class="py-5">The Wedding Of</h4> <h1 class="text-4xl">Dewa Tresna &amp; Dewa Ayu Tirtawati</h1></div>',r,n,a,o,l,c,h,d,g="Mohon maaf bila ada kesalahan pada penulisan nama/gelar",b,k,x="Open Invitation",C,w,R,A;return{c(){e=p("section"),t=p("div"),t.innerHTML=s,r=S(),n=p("div"),a=p("div"),o=p("h1"),l=p("p"),c=X(i[1]),h=S(),d=p("p"),d.textContent=g,b=S(),k=p("button"),k.textContent=x,this.h()},l(O){e=_(O,"SECTION",{class:!0,style:!0});var U=E(e);t=_(U,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-i40zpt"&&(t.innerHTML=s),r=T(U),n=_(U,"DIV",{class:!0});var j=E(n);a=_(j,"DIV",{class:!0});var P=E(a);o=_(P,"H1",{});var N=E(o);l=_(N,"P",{});var ee=E(l);c=Q(ee,i[1]),ee.forEach(u),N.forEach(u),h=T(P),d=_(P,"P",{class:!0,"data-svelte-h":!0}),I(d)!=="svelte-xenhc2"&&(d.textContent=g),b=T(P),k=_(P,"BUTTON",{class:!0,"data-svelte-h":!0}),I(k)!=="svelte-1f12njs"&&(k.textContent=x),P.forEach(u),j.forEach(u),U.forEach(u),this.h()},h(){m(t,"class","head relative top-0 h-[65vh]"),m(d,"class","py-5"),m(k,"class","bg-white text-black rounded-lg px-5 py-4"),m(a,"class","text-center"),m(n,"class","footer relative bottom-0 text-white"),m(e,"class","banner px-5 py-5 h-screen"),m(e,"style","background-image: url('/asset/dewa-tresna/CHE08467.jpg') !important; background-position: 40% 10%; background-repeat: no-repeat; object-fit: cover; background-size: cover; }")},m(O,U){y(O,e,U),f(e,t),f(e,r),f(e,n),f(n,a),f(a,o),f(o,l),f(l,c),f(a,h),f(a,d),f(a,b),f(a,k),w=!0,R||(A=Gs(k,"click",i[14]),R=!0)},p(O,U){(!w||U[0]&2)&&_e(c,O[1])},i(O){w||(O&&Oi(()=>{w&&(C||(C=Pn(e,Rn,{y:-500,duration:1e3},!0)),C.run(1))}),w=!0)},o(O){O&&(C||(C=Pn(e,Rn,{y:-500,duration:1e3},!1)),C.run(0)),w=!1},d(O){O&&u(e),O&&C&&C.end(),R=!1,A()}}}function So(i){let e,t="We Found Love";return{c(){e=p("h1"),e.textContent=t,this.h()},l(s){e=_(s,"H1",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-qhi422"&&(e.textContent=t),this.h()},h(){m(e,"class","font-bold text-2xl mb-2")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function To(i){let e,t=`“Ya, pasangan suami-istri, semoga anda tetap disini dan tidak
                pernah terpisahkan. Semoga anda berdua mencapai hidup yang penuh
                kebahagiaan. Semoga anda, bermain dengan anak-anak lakimu dan
                cucu-cucu lakimu, tinggal di rumah ini dengan gembira”`,s,r,n="(Rgveda : X.85.42)";return{c(){e=p("p"),e.textContent=t,s=S(),r=p("p"),r.textContent=n,this.h()},l(a){e=_(a,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-h3ilul"&&(e.textContent=t),s=T(a),r=_(a,"P",{"data-svelte-h":!0}),I(r)!=="svelte-qejdzx"&&(r.textContent=n),this.h()},h(){m(e,"class","text-gray-700 text-sm")},m(a,o){y(a,e,o),y(a,s,o),y(a,r,o)},p:F,d(a){a&&(u(e),u(s),u(r))}}}function Co(i){let e,t="Sang Mempelai";return{c(){e=p("h1"),e.textContent=t},l(s){e=_(s,"H1",{"data-svelte-h":!0}),I(e)!=="svelte-1t8n1kh"&&(e.textContent=t)},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function xo(i){let e,t='<img class="rounded-xl w-[50%] h-full object-cover" src="/asset/dewa-tresna/CHE08480.jpg" alt="Extra large avatar"/>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1i9deus"&&(e.innerHTML=t),this.h()},h(){m(e,"class","flex items-start justify-center py-5")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Oo(i){let e,t="Dewa Gede Tresna Putra";return{c(){e=p("h1"),e.textContent=t},l(s){e=_(s,"H1",{"data-svelte-h":!0}),I(e)!=="svelte-bf6i2p"&&(e.textContent=t)},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function jo(i){let e,t="Putra kedua dari pasangan",s,r,n="Dewa Nyoman Rai & Cok Istri Sri Trisna Yanti",a,o,l="Br.Sema, Desa Bitera, Gianyar";return{c(){e=p("p"),e.textContent=t,s=S(),r=p("p"),r.textContent=n,a=S(),o=p("p"),o.textContent=l},l(c){e=_(c,"P",{"data-svelte-h":!0}),I(e)!=="svelte-7p2wrv"&&(e.textContent=t),s=T(c),r=_(c,"P",{"data-svelte-h":!0}),I(r)!=="svelte-jjsrf3"&&(r.textContent=n),a=T(c),o=_(c,"P",{"data-svelte-h":!0}),I(o)!=="svelte-mgxqhv"&&(o.textContent=l)},m(c,h){y(c,e,h),y(c,s,h),y(c,r,h),y(c,a,h),y(c,o,h)},p:F,d(c){c&&(u(e),u(s),u(r),u(a),u(o))}}}function Io(i){let e,t='<img class="rounded-xl w-[50%] h-full object-cover" src="/asset/dewa-tresna/CHE08483.jpg" alt="Extra large avatar"/>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-8rf7az"&&(e.innerHTML=t),this.h()},h(){m(e,"class","flex items-start justify-center py-5")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Po(i){let e,t="Dewa Ayu Tirtawati";return{c(){e=p("h1"),e.textContent=t},l(s){e=_(s,"H1",{"data-svelte-h":!0}),I(e)!=="svelte-dzw4kx"&&(e.textContent=t)},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Ao(i){let e,t="Putri ketiga dari pasangan",s,r,n="Dewa Putu Sukra & Desak Putu Oka",a,o,l="Br.Sengguan, Desa Bitera, Gianyar";return{c(){e=p("p"),e.textContent=t,s=S(),r=p("p"),r.textContent=n,a=S(),o=p("p"),o.textContent=l},l(c){e=_(c,"P",{"data-svelte-h":!0}),I(e)!=="svelte-54gb6q"&&(e.textContent=t),s=T(c),r=_(c,"P",{"data-svelte-h":!0}),I(r)!=="svelte-1rwqf48"&&(r.textContent=n),a=T(c),o=_(c,"P",{"data-svelte-h":!0}),I(o)!=="svelte-1hpjtwd"&&(o.textContent=l)},m(c,h){y(c,e,h),y(c,s,h),y(c,r,h),y(c,a,h),y(c,o,h)},p:F,d(c){c&&(u(e),u(s),u(r),u(a),u(o))}}}function Ro(i){let e,t="Om Swastyastu";return{c(){e=p("h1"),e.textContent=t,this.h()},l(s){e=_(s,"H1",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1e3n3dr"&&(e.textContent=t),this.h()},h(){m(e,"class","p-10")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Do(i){let e,t=`Atas Asung Kerta Wara Nugraha Ida Sang Hyang Widhi Wasa kami bermaksud
          mengundang Bapak/Ibu/Saudara/i pada upacara Pawiwahan Putra dan Putri
          kami, yang diselenggarakan pada :`;return{c(){e=p("p"),e.textContent=t},l(s){e=_(s,"P",{"data-svelte-h":!0}),I(e)!=="svelte-mcck5d"&&(e.textContent=t)},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Lo(i){let e,t,s,r,n="Pawiwahan",a,o,l,c,h='<p class="text-center">Jumat, 17 mei 2024</p> <p class="text-center">09.00 WITA</p>';return{c(){e=p("img"),s=S(),r=p("span"),r.textContent=n,a=S(),o=p("hr"),l=S(),c=p("div"),c.innerHTML=h,this.h()},l(d){e=_(d,"IMG",{src:!0,class:!0,alt:!0}),s=T(d),r=_(d,"SPAN",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-8n3ake"&&(r.textContent=n),a=T(d),o=_(d,"HR",{}),l=T(d),c=_(d,"DIV",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-1khhyww"&&(c.innerHTML=h),this.h()},h(){Ks(e.src,t="https://undanganwebmedia.sgp1.digitaloceanspaces.com/withlove/hi/2022/02/icon.png")||m(e,"src",t),m(e,"class","w-[4rem] h-[4rem] mx-auto"),m(e,"alt",""),m(r,"class","block text-center py-5"),m(c,"class","py-5")},m(d,g){y(d,e,g),y(d,s,g),y(d,r,g),y(d,a,g),y(d,o,g),y(d,l,g),y(d,c,g)},p:F,d(d){d&&(u(e),u(s),u(r),u(a),u(o),u(l),u(c))}}}function Uo(i){let e,t,s,r,n="Resepsi Nikah",a,o,l,c,h='<p class="text-center">Jumat, 17 Mei 2024</p> <p class="text-center">14.00 WITA - Selesai</p>',d,g,b,k,x="Lokasi",C,w,R="Br. Sema, Desa Bitera, Gianyar",A,O,U='<a href="https://maps.app.goo.gl/QXvjqHDiSUdsQvTV8">Denah lokasi</a>';return{c(){e=p("img"),s=S(),r=p("h1"),r.textContent=n,a=S(),o=p("hr"),l=S(),c=p("div"),c.innerHTML=h,d=S(),g=p("hr"),b=S(),k=p("h1"),k.textContent=x,C=S(),w=p("p"),w.textContent=R,A=S(),O=p("button"),O.innerHTML=U,this.h()},l(j){e=_(j,"IMG",{src:!0,class:!0,alt:!0}),s=T(j),r=_(j,"H1",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-1vhb3tm"&&(r.textContent=n),a=T(j),o=_(j,"HR",{}),l=T(j),c=_(j,"DIV",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-15u2aq7"&&(c.innerHTML=h),d=T(j),g=_(j,"HR",{}),b=T(j),k=_(j,"H1",{class:!0,"data-svelte-h":!0}),I(k)!=="svelte-1mcy32x"&&(k.textContent=x),C=T(j),w=_(j,"P",{class:!0,"data-svelte-h":!0}),I(w)!=="svelte-1tgrivz"&&(w.textContent=R),A=T(j),O=_(j,"BUTTON",{class:!0,"data-svelte-h":!0}),I(O)!=="svelte-o2x0zi"&&(O.innerHTML=U),this.h()},h(){Ks(e.src,t="https://undanganwebmedia.sgp1.digitaloceanspaces.com/withlove/hi/2022/02/icon.png")||m(e,"src",t),m(e,"class","w-[4rem] h-[4rem] mx-auto"),m(e,"alt",""),m(r,"class","block text-center py-5"),m(c,"class","py-5"),m(k,"class","block text-center py-3"),m(w,"class","text-center py-2"),m(O,"class","bg-white text-black px-4 py-2 rounded-lg")},m(j,P){y(j,e,P),y(j,s,P),y(j,r,P),y(j,a,P),y(j,o,P),y(j,l,P),y(j,c,P),y(j,d,P),y(j,g,P),y(j,b,P),y(j,k,P),y(j,C,P),y(j,w,P),y(j,A,P),y(j,O,P)},p:F,d(j){j&&(u(e),u(s),u(r),u(a),u(o),u(l),u(c),u(d),u(g),u(b),u(k),u(C),u(w),u(A),u(O))}}}function No(i){let e,t;return{c(){e=p("img"),this.h()},l(s){e=_(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","w-full rounded-lg"),Ks(e.src,t="/asset/dewa-tresna/CHE08512.jpg")||m(e,"src",t),m(e,"alt","Sunset in the mountains")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Mo(i){let e,t="Menuju Hari Bahagia";return{c(){e=p("h1"),e.textContent=t,this.h()},l(s){e=_(s,"H1",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1ah65bi"&&(e.textContent=t),this.h()},h(){m(e,"class","text-2xl")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Ho(i){let e,t=`Waktu berganti begitu cepat, dalam penantian kami yang penuh doa,
              kami berharap kehadiran dan doa restu seluruh keluarga, sahabat
              dan saudara terkasih, untuk menjadi saksi ikrar janji suci kami di
              hari bahagia`,s,r,n="(Rgveda : X.85.42)";return{c(){e=p("p"),e.textContent=t,s=S(),r=p("p"),r.textContent=n,this.h()},l(a){e=_(a,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1px7ly8"&&(e.textContent=t),s=T(a),r=_(a,"P",{"data-svelte-h":!0}),I(r)!=="svelte-qejdzx"&&(r.textContent=n),this.h()},h(){m(e,"class","text-gray-700 text-base")},m(a,o){y(a,e,o),y(a,s,o),y(a,r,o)},p:F,d(a){a&&(u(e),u(s),u(r))}}}function Vo(i){let e,t="RSVP";return{c(){e=p("h1"),e.textContent=t,this.h()},l(s){e=_(s,"H1",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-vejtpc"&&(e.textContent=t),this.h()},h(){m(e,"class","p-10")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function zo(i){let e,t=`Mohon konfirmasi kehadiran Bapak/Ibu/Saudara/i dengan mengisi form
          berikut`;return{c(){e=p("p"),e.textContent=t},l(s){e=_(s,"P",{"data-svelte-h":!0}),I(e)!=="svelte-nm03m4"&&(e.textContent=t)},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function qo(i){let e,t="No RSVP data available.";return{c(){e=p("p"),e.textContent=t,this.h()},l(s){e=_(s,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-nzyng8"&&(e.textContent=t),this.h()},h(){m(e,"class","text-gray-600")},m(s,r){y(s,e,r)},p:F,d(s){s&&u(e)}}}function Fo(i){let e,t=An(i[8].sort(ei)),s=[];for(let r=0;r<t.length;r+=1)s[r]=Qn(Xn(i,t,r));return{c(){e=p("ul");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=_(r,"UL",{class:!0});var n=E(e);for(let a=0;a<s.length;a+=1)s[a].l(n);n.forEach(u),this.h()},h(){m(e,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4")},m(r,n){y(r,e,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(r,n){if(n[0]&256){t=An(r[8].sort(ei));let a;for(a=0;a<t.length;a+=1){const o=Xn(r,t,a);s[a]?s[a].p(o,n):(s[a]=Qn(o),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(r){r&&u(e),ji(s,r)}}}function Qn(i){let e,t,s,r,n=i[34].nama+"",a,o,l,c=Zn(i[34].created_at)+"",h,d,g,b,k=i[34].pesan+"",x,C,w,R,A=i[34].status?"Hadir":"Tidak Hadir",O,U,j;return{c(){e=p("li"),t=p("div"),s=p("div"),r=p("h2"),a=X(n),o=S(),l=p("p"),h=X(c),d=S(),g=p("p"),b=X('"'),x=X(k),C=X('"'),w=S(),R=p("p"),O=X(A),j=S(),this.h()},l(P){e=_(P,"LI",{});var N=E(e);t=_(N,"DIV",{class:!0});var ee=E(t);s=_(ee,"DIV",{class:!0});var q=E(s);r=_(q,"H2",{id:!0,class:!0});var te=E(r);a=Q(te,n),te.forEach(u),o=T(q),l=_(q,"P",{class:!0});var ge=E(l);h=Q(ge,c),ge.forEach(u),q.forEach(u),d=T(ee),g=_(ee,"P",{id:!0,class:!0});var se=E(g);b=Q(se,'"'),x=Q(se,k),C=Q(se,'"'),se.forEach(u),w=T(ee),R=_(ee,"P",{id:!0,class:!0,style:!0});var ae=E(R);O=Q(ae,A),ae.forEach(u),ee.forEach(u),j=T(N),N.forEach(u),this.h()},h(){m(r,"id","rsvpName"),m(r,"class","font-semibold text-base"),m(l,"class","text-sm italic"),m(s,"class","flex items-center justify-between gap-4"),m(g,"id","rsvpMessage"),m(g,"class","text-gray-600 italic text-base py-2"),m(R,"id","rsvpAttendance"),m(R,"class","mb-2 px-1 rounded-full py-2 text-center"),m(R,"style",U=i[34].status?"background-color: green; color: white; width: 100px;":"background-color: red; color: white; width: 100px;"),m(t,"class","bg-white shadow-md rounded-lg p-4")},m(P,N){y(P,e,N),f(e,t),f(t,s),f(s,r),f(r,a),f(s,o),f(s,l),f(l,h),f(t,d),f(t,g),f(g,b),f(g,x),f(g,C),f(t,w),f(t,R),f(R,O),f(e,j)},p(P,N){N[0]&256&&n!==(n=P[34].nama+"")&&_e(a,n),N[0]&256&&c!==(c=Zn(P[34].created_at)+"")&&_e(h,c),N[0]&256&&k!==(k=P[34].pesan+"")&&_e(x,k),N[0]&256&&A!==(A=P[34].status?"Hadir":"Tidak Hadir")&&_e(O,A),N[0]&256&&U!==(U=P[34].status?"background-color: green; color: white; width: 100px;":"background-color: red; color: white; width: 100px;")&&m(R,"style",U)},d(P){P&&u(e)}}}function Bo(i){let e,t,s,r,n,a;const o=[Eo,$o],l=[];function c(h,d){return h[0]?1:0}return s=c(i),r=l[s]=o[s](i),{c(){e=p("meta"),t=S(),r.c(),n=jn(),this.h()},l(h){const d=Ei("svelte-8gb88t",Lr.head);e=_(d,"META",{name:!0,content:!0}),d.forEach(u),t=T(h),r.l(h),n=jn(),this.h()},h(){Lr.title="Home",m(e,"name","description"),m(e,"content","Svelte demo app")},m(h,d){f(Lr.head,e),y(h,t,d),l[s].m(h,d),y(h,n,d),a=!0},p(h,d){let g=s;s=c(h),s===g?l[s].p(h,d):(ci(),V(l[g],1,1,()=>{l[g]=null}),hi(),r=l[s],r?r.p(h,d):(r=l[s]=o[s](h),r.c()),z(r,1),r.m(n.parentNode,n))},i(h){a||(z(r),a=!0)},o(h){V(r),a=!1},d(h){h&&(u(t),u(n)),u(e),l[s].d(h)}}}const Ur=5,Jo="https://ngshwkayjjxfiidmwgyo.supabase.co",Go="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nc2h3a2F5amp4ZmlpZG13Z3lvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTIyMzYyMjAsImV4cCI6MjAyNzgxMjIyMH0.mFE4aT-yeBQ_K8MR-UyaINhoUKfd-TyLUADEVH0vOmI";function Zn(i){const e=new Date(i);if(isNaN(e.getTime()))return"Invalid date";const s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),n={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[a,o]of Object.entries(n)){const l=Math.floor(r/o);if(l>=1){if(l===1)return"Yesterday";if(l===0)return"Today";{const c={year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString("en-US",c)}}}return"Just now"}const ei=(i,e)=>e.created_at-i.created_at;function Ko(i,e,t){let s,r,n;const a=qs([]);Or(i,a,M=>t(8,r=M));const o=qs(1);Or(i,o,M=>t(7,s=M));const l=qs(1);Or(i,l,M=>t(9,n=M));const c=qs(!0);let h=!1,d="";const g=()=>{console.log("toggleContent"),t(0,h=!h)};let b=new Date("2024-05-17").getTime(),k=new Date().getTime(),x=b-k,C=Math.floor(x/(1e3*60*60*24)),w=Math.floor(x%(1e3*60*60*24)/(1e3*60*60)),R=Math.floor(x%(1e3*60*60)/(1e3*60)),A=Math.floor(x%(1e3*60)/1e3);const O=()=>{k=new Date().getTime(),x=b-k,t(2,C=Math.floor(x/(1e3*60*60*24))),t(3,w=Math.floor(x%(1e3*60*60*24)/(1e3*60*60))),t(4,R=Math.floor(x%(1e3*60*60)/(1e3*60))),t(5,A=Math.floor(x%(1e3*60)/1e3))},U=setInterval(O,1e3),j=()=>{q()};si(()=>{O();const M=new URLSearchParams(window.location.search);t(1,d=M.get("to")),q()}),Si(()=>{clearInterval(U)});const P=mo(Jo,Go);let N={nama:"",status:"",pesan:"",created_at:new Date};const ee=async()=>{const M=document.getElementById("name"),Ke=document.getElementById("hadir"),oe=document.getElementById("pesan");N={nama:M.value,status:Ke.value,pesan:oe.value,created_at:new Date};const{data:Kt,error:We}=await P.from("rsvp").insert([N]);We?console.error(We):(console.log("RSVP submitted successfully"),j())},q=async()=>{c.set(!0);const M=s,{data:Ke,error:oe,count:Kt}=await P.from("rsvp").select("*").range((M-1)*Ur,M*Ur-1).order("created_at",{ascending:!1});if(oe)console.error(oe);else{const ve=Math.ceil((Kt??0)/Ur);l.set(ve),a.set(Ke),c.set(!1)}},te=M=>{o.set(M),q()};let ge;function se(M){Ti[M?"unshift":"push"](()=>{ge=M,t(6,ge)})}return[h,d,C,w,R,A,ge,s,r,n,a,o,l,c,g,ee,te,se,()=>te(s-1),()=>te(s+1)]}class sl extends oi{constructor(e){super(),li(this,e,Ko,Bo,ti,{},null,[-1,-1])}}export{sl as component,tl as universal};
